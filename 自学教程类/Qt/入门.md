### 0.快捷键

快捷键  |作用
--------|-------
ctrl+B  |编译    
ctrl+F  |查找  
ctrl+R  |运行
Ctrl+I  |对齐排版
ctrl+M  |添加、删除书签
ctrl+,  |切换标签
ctrl+W  |关闭当前编辑的文件
Ctrl+/  |整块注释
ctrl+[  |跳到代码头部
ctrl+]  |跳到代码尾部
Esc     |从UI设计界面返回到代码编辑状态
F1      |查看帮助
F2      |选中对象声明和定义之间切换（ctrl+leftMouse）
F3      |查找下一个
F4      |头文件与源文件之间切换
F5      |开始调试
ctrl+0  |编辑界面恢复默认字体


### 1.QMainWindow 带菜单栏的窗口、QWidget 空窗口、QDialog 对话框（无法伸缩）

### 2.指定父对象  

```c++
button.setparent(w);//调用方法指定父对象
button=new QPushButton(this);//构造函数传参
```

### 3.添加一个新窗口：新建一个类

在主类中包含其头文件，实例化一个新类对象sth，并且 sth.show();

### 4.信号与槽——Qt对象之间通信的接口

```c++
connect();//信号发出者（按钮等），信号内容，接收者，处理槽函数
//如果是标准信号，去帮助文档找singal，如果找不到，去找这个发出者的父类
```

- 自定义信号

  信号必须有关键字signals关键字声明

  信号没有返回值，但可以有参数

  信号只需声明，无需定义mysiganl();

  使用： emit mysignal();

- 信号可以重载

  利用函数指针区分重载的信号

- 有参数信号

  

### 5.函数指针

 如果在程序中定义了一个函数，那么在编译时系统就会为这个函数代码分配一段存储空间，这段存储空间的首地址称为这个函数的地址。而且函数名表示的就是这个地址。既然是地址我们就可以定义一个指针变量来存放，这个指针变量就叫作函数指针变量，简称函数指针。 

定义方式

```c++
int(*p)(int,int);//定义一个指向函数的指针p 前面的int表示返回int类，后面两个int是形参
函数返回值类型 (* 指针变量名) (函数参数列表);

//函数重载时运用
int add(int a,int b)
{
    return a+b;
}
int add()
{
    return 12138;
}
int(*sth)(int,int)=add;
int(*nothing)()=add;

int main()
{
    int(*sth)(int,int)=add;
	int(*nothing)()=add;
    cout<<"有形数："<<(*sth)(10,20)<<endl;
    cout<<"无形参"<<(*nothing)()<<endl;
    return 1;
}
```

### 6.Lambda表达式  匿名函数对象

 lambda 表达式是一种匿名函数，即没有函数名的函数；该匿名函数是由数学中的λ演算而来的。通常情况下，lambda函数的语法定义为：

```c++
[capture] (parameters) mutable ->return-type {statement} 
//capture：捕捉列表-捕捉上下文中变量以使用
//parameters：参数列表-形参-如果不需要参数传递可以连括号一起省略
//mutable：使捕捉对象可更改取消其const常量性质
//return-type：返回类型
//statement：函数体
int main()
{
    int a=1,b=2,c=3;
    auto lam=[=]() mutable->int
    {
        a++;b++; c++;return a+b+c;
    }
    cout<<a+b+c<<endl;
    cout<<lan();
    return 1;
}
```

C++11增加的新特性，项目文件：CONFIG+=C++11		Qt中配合信号使用非常方便

```c++
    connect(b2,&QPushButton::released,
            // =：将外部所有局部变量、类中所有成员以值传递方式传入
            //mutable:可变的 允许变量被修改
            //this:类中所有成员以值传递方式传入
            //&:引用符号
            [=]() mutable
            {
                b2->setText("已经修改");
                qDebug()<<a;
                a=0;
            }
            );
```

### 7.坐标系统——以父部件左上角为原点

```c++
MyWidget::MyWidget(QWidget *parent)
    : QWidget(parent)
{
    this->resize(400,300);
    this->move(100,100);

    QPushButton *b1=new QPushButton(this);//以MyWidget为父对象

    b1->setText("whatever");
    b1->move(100,100);//以MyWidget左上角为原点
    b1->resize(100,100);

    QPushButton *b2=new QPushButton(b1);//以按钮b1为父对象
    b2->setText("sth");
    b2->move(10,10);
}
```

### 8.垃圾清理 对象树自动释放

### 9.菜单栏 、状态栏、工具栏、核心控件、浮动窗口

```c++
//使用菜单栏等先包含其头文件！！！	

//菜单栏
QMenuBar* mbar=menuBar();
//添加菜单内容
QMenu *pFile=mbar->addMenu("文件");
//添加菜单项，添加动作
QAction *pNew=pFile->addAction("新建");
//新建分隔符
pFile->addSeparator();
//新建工具栏
QToolBar *toolbar=addToolBar("toolbar");
//工具栏添加快捷键
toolbar->addAction(pNew);
QAction *pOpen=pFile->addAction("打开");
QPushButton* b1=new QPushButton(this);
toolbar->addWidget(b1);//添加小部件
//状态栏
QStatusBar *sbar=statusBar();
QLabel *label=new QLabel(this);
label->setText("Normal text file");
sbar->addWidget(label);
//状态栏addwidget 从左往右添加
sbar->addWidget(new QLabel("2",this));
sbar->addPermanentWidget(new QLabel("从右往左",this));
//核心控件
QTextEdit *tedit=new QTextEdit(this);//文本编辑
setCentralWidget(tedit);//设置中心部件
//浮动窗口
QDockWidget *dock=new QDockWidget(this);
addDockWidget(Qt::RightDockWidgetArea,dock);
QTextEdit *t1=new QTextEdit(this);
dock->setWidget(t1);//把文本编辑放入浮动窗口
```

### 10.模态和非模态对话框

```c++
//模态：阻塞，不能操作主对话框
//非模态：可以同时操作
QMenu *menu=mbar->addMenu("对话框");//添加菜单
QAction *yes=menu->addAction("模态对话框");//添加菜单项
QAction *no=menu->addAction("非模态对话框");//添加菜单项

    connect(yes,&QAction::triggered,
            []()
    {
        QDialog dlg;
        dlg.exec();//阻塞
        qDebug()<<"模态对话框";
    });

    connect(no,&QAction::triggered,
            [=]()
    {

        dlg1.show();//私有成员 QDialog dlg1;
        qDebug()<<"非模态对话框";
    });
```

### 11.自带的 	关于、问题对话框

```cpp
QAction *about=menu->addAction("关于");
    connect(about,&QAction::triggered,
            [=]()
    {
        QMessageBox::about(this,"about","关于Qt");//关于对话框

    });

    QAction *ques=menu->addAction("问题");//问题对话框
    connect(ques,&QAction::triggered,
            [=]()
    {
        //返回按下按钮的枚举值（查帮助文档）
        int res=QMessageBox::question(this,"question","are you ok?",QMessageBox::Ok,QMessageBox::Cancel,QMessageBox::No);//修改（增减）按键为OK 和Cancel
        switch (res)
        {
            case QMessageBox::Ok:
            qDebug()<<"i am ok";
            break;
        case QMessageBox::No:
            qDebug()<<"i am bad";
            break;
        default:
            break;
        }

    });
```

### 12.文件对话框

```cpp
#include<QFileDialog>

QAction *file=menu->addAction("文件对话框");//添加菜单项
    connect(file,&QAction::triggered,
            [=]()
    {
        QString res=QFileDialog::getOpenFileName//打开文件对话框
                (this,
                 "打开文件",
                 "../",
                 "图像(*.img *.jpg);;代码(*.cpp *.c *.h);;所有(*.*)"//过滤格式
                 );
        qDebug()<<res;
    });
```

### 13.设置字体

```cpp
//设置下划线
void Dialog::on_cb_underline_clicked(bool checked)
{
    QFont font=ui->plainTextEdit->font();
    font.setUnderline(checked);
    ui->plainTextEdit->setFont(font);
}

//设置斜体
void Dialog::on_cb_italib_clicked(bool checked)
{
    QFont font=ui->plainTextEdit->font();
    font.setItalic(checked);
    ui->plainTextEdit->setFont(font);
}

//设置粗体
void Dialog::on_cb_bold_clicked(bool checked)
{
    QFont font=ui->plainTextEdit->font();
    font.setBold(checked);
    ui->plainTextEdit->setFont(font);
}

//设置颜色
void Dialog::setTextFontColor()
{
    QPalette plet=ui->plainTextEdit->palette();

    if(ui->rb_yellow->isChecked())
        plet.setColor(QPalette::Text,Qt::yellow);
    else if(ui->rb_blue->isChecked())
        plet.setColor(QPalette::Text,Qt::blue);
    else if(ui->rb_red->isChecked())
        plet.setColor(QPalette::Text,Qt::red);
    else
        plet.setColor(QPalette::Text,Qt::black);


    ui->plainTextEdit->setPalette(plet);
}

//设置字体
void Dialog::on_fontComboBox_activated(const QString &arg1)
{
    qDebug()<<arg1;//打印字体
    QFont font=ui->plainTextEdit->font();
    font.setFamily(arg1);
    ui->plainTextEdit->setFont(font);
}
```

### 14.QString2Other

```cpp
//字符串到整型
QString sth="121381";
int a=sth.toInt();
a=sth.toLong();
a=sth.toShort();
······
//转化为浮点数
toDouble();
toFloat();

//数转化为字符串
str=QString::number(total,'f',2);//数值变量-转换类型-精度
str=QString::asprintf("%.2f",total);
str=str.setNum(total,'f',2);
str=str.sprintf("%.2f",total);
```

### 15.进制转换

```cpp
void Widget::on_lineEdit10_editingFinished()
{
    QString str=ui->lineEdit10->text();
    int decNum=str.toInt();
    str=str.setNum(decNum,2);//转化为二进制
    ui->lineEdit2->setText(str);

    str=str.setNum(decNum,8);//转化为八进制
    ui->lineEdit8->setText(str);

    str=str.setNum(decNum,16);//转化为十六进制
    str=str.toUpper();
    ui->lineEdit16->setText(str);
}
```

### 16.字符串相关

```cpp
QString str="卖";
QString str1="拐";
str.append(str1);//卖拐
str.prepend(str1);//拐卖

QString str2="hello";
str2=str2.toUpper();//HELLO 转化为大写
str2=str2.toLower();//转化为小写

//字符串个数函数
QString str3="Ni好";//一个汉字算一个字符
str3.count();//3
str.size();//3
str.length();//3

QString str4="  te  st  ";
str4.trimmed();//te  st 去掉字符串首尾空格
str4.simplified();//te st 去掉字符串首尾空格且字符串中连续的空格也用一个空格代替
```

